(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{519:function(e,t,r){},520:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=r(17),s=r.n(n),i=r(11),o=r(28),l=r(25),u=r(252),j=r.n(u),d=r(9),b=r(6),O=r(560),m=r(559),h=r(552),p=r(555),x=r(556),f=r(148),v=r(557),y=r(558),g=r(137),S=r.n(g),w=r(1),k=function(e){var t=e.article;return Object(w.jsxs)(h.a,{children:[Object(w.jsx)(p.a,{style:{height:0,paddingTop:"56.25%"},image:"https://picsum.photos/200",title:"some title"}),Object(w.jsxs)(x.a,{style:{overflow:"hidden",height:"15rem"},children:[Object(w.jsx)(f.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(w.jsx)(f.a,{variant:"body2",color:"textSecondary",component:"p",children:t.excerpt})]}),Object(w.jsxs)(v.a,{disableSpacing:!0,children:[Object(w.jsx)(y.a,{children:Object(w.jsx)(S.a,{})}),Object(w.jsx)(m.a,{size:"small",color:"primary",component:o.Link,to:"/article/".concat(t._id),children:"View article"})]})]})},N=r(277),E=r(13),_=r.n(E),F=r(32),P=r(26),C="get_articles",A="get_article",T="clear_current_article",q="add_article",R="update_article_status",B="get_admin_articles",D="get_categories",L="add_category",I="nav_search",z="error_global",M="success_global",V="clear_notification",U="remove_article",H="auth_user",W="sign_out",G="change_user_email",J="update_user_profile",X="verify_account",Y="site_layout",K=function(e){return{type:q,payload:e}},Q=function(e){return{type:B,payload:e}},Z=function(e){return{type:A,payload:e}},$=function(){return{type:T}},ee=function(e){return{type:D,payload:e}},te=function(e){return{type:I,payload:e}},re=function(e){return{type:z,payload:e}},ae=function(e){return{type:M,payload:e}},ce=function(){return function(e){e({type:V})}},ne=function(e){return{type:H,payload:e}},se=function(){return{type:W}},ie=function(e){return{type:G,payload:e}},oe=function(e){return{type:J,payload:e}},le=r(24),ue=r.n(le),je=r(91),de=r(176),be=r.n(de),Oe=function(e,t){switch(e){case"SUCCESS":je.b.success(t,{position:je.b.POSITION.BOTTOM_RIGHT});break;case"ERROR":je.b.error(t,{position:je.b.POSITION.BOTTOM_RIGHT});break;default:return!1}},me=function(){return be.a.load("x-access-token")},he=function(){return{headers:{"x-access-token":me()}}};ue.a.defaults.headers.post["Content-Type"]="application/json";var pe=0,xe=function(e){return function(){var t=Object(P.a)(_.a.mark((function t(r,a){var c,n,s,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.post("/api/articles/loadmore",e);case 3:c=t.sent,n=a().articles.articles,s=Object(F.a)(c.data),n&&(s=[].concat(Object(F.a)(n),Object(F.a)(c.data))),i=s.length,pe!==i?pe=i:r(re("No more articles to be loaded!")),r({type:C,payload:s}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r(re("Oops error loading articles"));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var a=Object(P.a)(_.a.mark((function a(c){var n;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ue.a.post("/api/articles/admin/paginate",{keywords:r,page:e,limit:t},he());case 3:n=a.sent,c(Q(n.data)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),c(re(a.t0.response.data.message));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},ve=function(){return function(){var e=Object(P.a)(_.a.mark((function e(t){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get("/api/articles/categories");case 3:r=e.sent,t(ee(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(re("Error fetching categories!"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ye={sortBy:"_id",order:"desc",limit:8,skip:0},ge=function(){var e=Object(a.useReducer)((function(e,t){return Object(b.a)(Object(b.a)({},e),t)}),ye),t=Object(i.a)(e,2),r=t[0],c=t[1],n=Object(d.c)((function(e){return e.articles})),s=Object(d.c)((function(e){return e.notification})),o=Object(a.useState)(!0),l=Object(i.a)(o,2),u=l[0],j=l[1],h=Object(d.b)();return Object(a.useEffect)((function(){n&&!n.articles&&h(xe(ye))}),[h,n]),Object(a.useEffect)((function(){s&&s.error&&j(!1)}),[s]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N.a,{className:"carrousel_avatar mb-4",children:Object(w.jsx)("div",{style:{backgroundImage:"url('https://picsum.photos/1920/1080')",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}})}),Object(w.jsx)(O.a,{container:!0,spacing:2,className:"article_card",children:n&&n.articles?n.articles.map((function(e,t){return Object(w.jsx)(O.a,{item:!0,xs:12,sm:6,lg:3,children:Object(w.jsx)(k,{article:e},e._id+t)},e._id)})):null}),u?Object(w.jsx)(m.a,{className:"mt-2",variant:"outlined",color:"secondary",onClick:function(){var e=r.skip+r.limit;h(xe(Object(b.a)(Object(b.a)({},r),{},{skip:e}))),c({skip:e})},children:"Load More"}):null]})},Se=r(585),we=r(566),ke=r(564),Ne=r(524),Ee=r(567),_e=r(568),Fe=r(263),Pe=r.n(Fe),Ce=r(265),Ae=r.n(Ce),Te=r(264),qe=r.n(Te),Re=r(178),Be=r.n(Re),De=r(266),Le=r.n(De),Ie=r(29),ze=r(21),Me=r(588),Ve=Object(l.o)((function(e){var t=Object(d.b)(),r=Object(Ie.c)({initialValues:{keywords:""},validationSchema:ze.c({keywords:ze.d().required("Please enter something").min(3,"Min 3 characters")}),onSubmit:function(r){t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var a=Object(P.a)(_.a.mark((function a(c){var n;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ue.a.post("/api/articles/user/search",{keywords:r,page:e,limit:t});case 3:n=a.sent,c(te(n.data)),0===n.data.totalDocs?c(re("Not found!")):c(ae("Search results found!")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),c(re(a.t0.response.data.message));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(1,5,r.keywords.trim())),e.closeDrawer(),e.history.push("/searchresults?keywords=".concat(r.keywords.trim()))}});return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("form",{style:{margin:"20px"},onSubmit:r.handleSubmit,children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({id:"outlined-basic",name:"keywords",label:"Search Movie",variant:"outlined"},r.getFieldProps("keywords")),function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}}(r,"keywords")))})})})),Ue=function(e){var t=e.users,r=e.signOutUser,c=Object(a.useState)(!1),n=Object(i.a)(c,2),s=n[0],l=n[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Pe.a,{className:"drawer_btn",onClick:function(){return l(!0)}}),Object(w.jsxs)(Se.a,{anchor:"right",open:s,onClose:function(){return l(!1)},children:[Object(w.jsx)(Ve,{closeDrawer:function(){return l(!1)}}),Object(w.jsx)(we.a,{}),Object(w.jsxs)(ke.a,{children:[Object(w.jsxs)(Ne.a,{button:!0,component:o.Link,to:"/",onClick:function(){return l(!1)},children:[Object(w.jsx)(Ee.a,{children:Object(w.jsx)(qe.a,{})}),Object(w.jsx)(_e.a,{primary:"Home"})]}),Object(w.jsxs)(Ne.a,{button:!0,component:o.Link,to:"/contact",onClick:function(){return l(!1)},children:[Object(w.jsx)(Ee.a,{children:Object(w.jsx)(Ae.a,{})}),Object(w.jsx)(_e.a,{primary:"Contact"})]}),t.auth?Object(w.jsxs)(Ne.a,{button:!0,onClick:function(){r(),l(!1)},children:[Object(w.jsx)(Ee.a,{children:Object(w.jsx)(Be.a,{})}),Object(w.jsx)(_e.a,{primary:"Sign out"})]}):Object(w.jsxs)(Ne.a,{button:!0,component:o.Link,to:"/auth",onClick:function(){return l(!1)},children:[Object(w.jsx)(Ee.a,{children:Object(w.jsx)(Be.a,{})}),Object(w.jsx)(_e.a,{primary:"Sign in"})]})]}),t.auth?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(we.a,{}),Object(w.jsx)(ke.a,{children:Object(w.jsxs)(Ne.a,{button:!0,component:o.Link,to:"/dashboard",onClick:function(){return l(!1)},children:[Object(w.jsx)(Ee.a,{children:Object(w.jsx)(Le.a,{})}),Object(w.jsx)(_e.a,{primary:"Dashboard"})]})})," "]}):null]})]})};ue.a.defaults.headers.post["Content-Type"]="application/json";var He=function(e){return function(t){t(function(e){return{type:Y,payload:e}}(e))}},We=Object(l.o)((function(e){var t=Object(a.useState)(""),r=Object(i.a)(t,2),c=r[0],n=r[1],s=Object(d.c)((function(e){return e.notification})),l=Object(d.c)((function(e){return e.users})),u=Object(d.b)();return Object(a.useEffect)((function(){"dashboard"===e.location.pathname.split("/")[1]?(n("dash_layout"),u(He("dash_layout"))):(n(""),u(He("")))}),[e.location.pathname,u]),Object(a.useEffect)((function(){if(s&&s.error){var e=s.msg?s.msg:"Sorry, something went wrong!";Oe("ERROR",e),u(ce())}if(s&&s.success){var t=s.msg?s.msg:"Awesome";Oe("SUCCESS",t),u(ce())}}),[s,u]),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("nav",{className:"navbar sticky-top ".concat(c),children:[Object(w.jsx)(o.Link,{style:{fontFamily:"Fredoka One"},to:"/",className:"navbar-brand d-flex align-items-center",children:"FlickBase"}),Object(w.jsx)(Ue,{users:l,signOutUser:function(){u(function(){var e=Object(P.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be.a.remove("x-access-token",{path:"/"}),t(se());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.history.push("/")}})]})})})),Ge=r(569),Je=(r(418),function(e){var t=Object(d.c)((function(e){return e.site}));return Object(w.jsxs)(Ge.a,{className:"app_container mb-5 ".concat(t.layout),children:[e.children,Object(w.jsx)(je.a,{})]})});var Xe=function(e){var t=Object(d.c)((function(e){return e.users}));return Object(w.jsx)(w.Fragment,{children:t.auth?Object(w.jsx)(l.c,{to:"/dashboard"}):e.children})},Ye=function(e){var t=Object(a.useState)(!1),r=Object(i.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],j=Object(d.c)((function(e){return e.notification})),O=Object(d.b)(),h=Object(Ie.c)({initialValues:{email:"",password:""},validationSchema:ze.c({email:ze.d().required("Sorry email is required!").email("This is not a valid email"),password:ze.d().required("Sorry password is required!")}),onSubmit:function(e,t){t.resetForm;p(e)}}),p=function(e){c?(u(!0),O(function(e){return function(){var t=Object(P.a)(_.a.mark((function t(r){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.post("/api/users/register",{email:e.email,password:e.password});case 3:a=t.sent,r(ne({data:a.data,auth:!0})),r(ae("Registration successful!")),r(se()),r(ae("Please verify your mail!")),r(ae("Please verify your mail!")),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),r(se()),r(re(t.t0.response.data.message));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(e))):O(function(e){return function(){var t=Object(P.a)(_.a.mark((function t(r){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.post("/api/users/signin",{email:e.email,password:e.password});case 3:!1===(a=t.sent).data.verified?r(ae("Please verify your mail!")):(r(ne({data:a.data,auth:!0})),r(ae("Welcome to FlickBase!"))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(re(t.t0.response.data.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))},x=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}};return Object(a.useEffect)((function(){j&&j.success&&e.history.push("/dashboard"),j&&j.error&&u(!1)}),[j,e.history]),Object(w.jsx)(Xe,{children:Object(w.jsxs)("div",{className:"auth_container",children:[Object(w.jsx)("h1",{children:"Authenticate"}),Object(w.jsxs)("form",{className:"mt-3",onSubmit:h.handleSubmit,children:[Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"email",label:"Enter your email",variant:"outlined"},h.getFieldProps("email")),x(h,"email")))}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"password",label:"Enter your password",type:"password",variant:"outlined"},h.getFieldProps("password")),x(h,"password")))}),Object(w.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",size:"large",disabled:l,children:c?"Register":"Login"}),Object(w.jsxs)(m.a,{variant:"outlined",color:"secondary",size:"small",className:"mt-1",onClick:function(){return n(!c)},children:["Want to ",c?"login?":"register?"]})]})]})})},Ke=r(570),Qe=function(){return Object(w.jsx)("div",{className:"root_loader",children:Object(w.jsx)(Ke.a,{})})},Ze=function(e){var t=Object(d.c)((function(e){return e.users}));return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"row adminLayout",children:[Object(w.jsx)("nav",{className:"col-md-2 d-none d-md-block sidebar",children:Object(w.jsx)("div",{children:Object(w.jsxs)(ke.a,{children:[Object(w.jsx)(Ne.a,{button:!0,component:o.Link,to:"/dashboard",children:Object(w.jsx)(_e.a,{primary:"Dashboard"})}),Object(w.jsx)(Ne.a,{button:!0,component:o.Link,to:"/dashboard/profile",children:Object(w.jsx)(_e.a,{primary:"Profile"})}),"admin"===t.data.role?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Ne.a,{button:!0,component:o.Link,to:"/dashboard/articles",children:Object(w.jsx)(_e.a,{primary:"Articles"})}),Object(w.jsx)(Ne.a,{button:!0,component:o.Link,to:"/dashboard/categories",children:Object(w.jsx)(_e.a,{primary:"Categories"})})]}):null]})})}),Object(w.jsxs)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 pt-3 px-4",children:[Object(w.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom",children:Object(w.jsx)("h1",{className:"h2",children:e.section})}),e.children]})]})})},$e=function(){var e=Object(d.c)((function(e){return e.users}));return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(Ze,{section:"Dashboard",children:Object(w.jsxs)("h4",{className:"mt-4",style:{textAlign:"center"},children:["Welcome back, ","  ",Object(w.jsxs)("b",{children:[Object(w.jsx)("u",{children:e&&e.data.firstname?e.data.firstname:e&&e.data.email?e.data.email.split("@")[0]:"<please completely your profile>"})," "]})]})})})},et=r(112),tt=r(179),rt=r.n(tt),at=r(591),ct=r(571),nt=r(586),st=function(e){var t=e.user,r=Object(a.useState)(0),c=Object(i.a)(r,2),n=c[0],s=c[1],o=Object(d.b)(),l=Object(Ie.c)({enableReinitialize:!0,initialValues:{email:"",newEmail:""},validationSchema:ze.c({email:ze.d().required("Please enter your old email").email("This is not a valid email!").test("oldMatch","Please check your email",(function(e){return e===t.data.email})),newEmail:ze.d().required("Please enter your new email").email("This is not a valid email!").test("newMatch","Please enter a different email",(function(e){return e!==t.data.email}))}),onSubmit:function(e,t){var r;t.resetForm;o((r=e,function(){var e=Object(P.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.patch("/api/users/update_email",{email:r.email,newemail:r.newEmail},he());case 3:t(ie(r.newEmail)),t(ae("Email updated successfully!")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(re(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}}),u=function(){s((function(e){return e+1}))},j=function(){s((function(e){return e-1}))},O=function(){return Object(w.jsx)(m.a,{className:"mt-3",variant:"contained",color:"primary",onClick:u,children:"Next"})},h=function(){return Object(w.jsx)(m.a,{className:"mt-3 mr-2",variant:"contained",color:"secondary",onClick:j,children:"Back"})},p=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(at.a,{activeStep:n,children:["Enter old email","Enter new email","Are you sure?"].map((function(e){return Object(w.jsx)(ct.a,{children:Object(w.jsx)(nt.a,{children:e})},e)}))}),Object(w.jsxs)("form",{className:"mt-3 stepper_form",onSubmit:l.handleSubmit,children:[0===n?Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"email",label:"Enter your old email",variant:"outlined"},l.getFieldProps("email")),p(l,"email"))),l.values.email&&!l.errors.email?O():null]}):null,1===n?Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"newEmail",label:"Enter your new email",variant:"outlined"},l.getFieldProps("newEmail")),p(l,"newEmail"))),h(),l.values.newEmail&&!l.errors.newEmail?O():null]}):null,2===n?Object(w.jsxs)("div",{className:"form-group",children:[h(),Object(w.jsx)(m.a,{className:"mt-3",variant:"contained",color:"primary",onClick:l.submitForm,children:"Yes, change my email!"})]}):null]})]})},it=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),r=t[0],c=t[1],n=Object(d.c)((function(e){return e.users})),s=Object(d.c)((function(e){return e.notification})),o=function(){return c(!1)};return Object(a.useEffect)((function(){s&&s.success&&o()}),[s]),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"mb-3 auth_grid",children:[Object(w.jsxs)(O.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(w.jsx)(O.a,{item:!0,children:Object(w.jsx)(Me.a,{value:n.data.email,disabled:!0})}),Object(w.jsx)(O.a,{item:!0,children:Object(w.jsx)(rt.a,{color:"primary",onClick:function(){return c(!0)}})})]}),Object(w.jsxs)(O.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(w.jsx)(O.a,{item:!0,children:Object(w.jsx)(Me.a,{value:"************",disabled:!0})}),Object(w.jsx)(O.a,{item:!0,children:Object(w.jsx)(rt.a,{color:"primary"})})]})]}),Object(w.jsx)(we.a,{}),Object(w.jsxs)(et.a,{size:"lg",centered:!0,show:r,onHide:o,children:[Object(w.jsx)(et.a.Header,{closeButton:!0,children:Object(w.jsx)(et.a.Title,{children:"Update your email"})}),Object(w.jsx)(et.a.Body,{children:Object(w.jsx)(st,{user:n})})]})]})},ot=function(){var e=Object(d.c)((function(e){return e.users.data})),t=e.firstname,r=e.lastname,a=e.age,c=Object(d.b)(),n=Object(Ie.c)({enableReinitialize:!0,initialValues:{firstname:t,lastname:r,age:a},onSubmit:function(e,t){var r;t.resetForm;c((r=e,function(){var e=Object(P.a)(_.a.mark((function e(t,a){var c,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.patch("/api/users/profile",r,he());case 3:c=e.sent,n=Object(b.a)(Object(b.a)({},a().users.data),c.data),t(oe(n)),t(ae("Profile updated successfully!")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(re(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))}}),s=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("form",{className:"mt-3 article_form",style:{maxWidth:"250px"},onSubmit:n.handleSubmit,children:[Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"firstname",label:"Enter your firstname",variant:"outlined"},n.getFieldProps("firstname")),s(n,"firstname")))}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"lastname",label:"Enter your lastname",variant:"outlined"},n.getFieldProps("lastname")),s(n,"lastname")))}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"age",label:"Enter your age",variant:"outlined"},n.getFieldProps("age")),s(n,"age")))}),Object(w.jsx)(m.a,{className:"mb-3",variant:"contained",color:"primary",onClick:n.submitForm,children:"Update Profile"})]})})},lt=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(Ze,{section:"Profile",children:[Object(w.jsx)(it,{}),Object(w.jsx)(ot,{})]})})},ut=r(572),jt=r(589),dt=r(267),bt=r.n(dt),Ot=function(e){var t=e.arts,r=e.prev,a=e.next,c=e.handleShow,n=e.handleStatusChange,s=e.editArtsAction,i=function(e){r(e)},o=function(e){a(e)};return Object(w.jsx)(w.Fragment,{children:t&&t.docs?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(ut.a,{striped:!0,bordered:!0,hover:!0,children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Created"}),Object(w.jsx)("th",{children:"Title"}),Object(w.jsx)("th",{children:"Score"})]})}),Object(w.jsx)("tbody",{children:t.docs.map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)(bt.a,{to:e.date})}),Object(w.jsx)("td",{children:e.title}),Object(w.jsx)("td",{children:e.score}),Object(w.jsx)("td",{className:"action_btn remove_btn",onClick:function(){return c(e._id)},children:"Remove"}),Object(w.jsx)("td",{className:"action_btn edit_btn",onClick:function(){return s(e._id)},children:"Edit"}),Object(w.jsx)("td",{className:"action_btn status_btn",onClick:function(){return n(e.status,e._id)},children:e.status})]},e._id)}))})]}),Object(w.jsxs)(jt.a,{children:[t.hasPrevPage?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(jt.a.Prev,{onClick:function(){return i(t.prevPage)}}),Object(w.jsx)(jt.a.Item,{onClick:function(){return i(t.prevPage)},children:t.prevPage})]}):null,Object(w.jsx)(jt.a.Item,{active:!0,children:t.page}),t.hasNextPage?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(jt.a.Item,{onClick:function(){return o(t.nextPage)},children:t.nextPage}),Object(w.jsx)(jt.a.Next,{onClick:function(){return o(t.nextPage)}})]}):null]})]}):Object(w.jsx)(Qe,{})})},mt=r(269),ht=r.n(mt),pt=r(582),xt=r(573),ft=r(574),vt=r(575),yt=r(576),gt=r(587),St=r(268),wt=function(e){var t=Object(d.b)(),r=Object(d.c)((function(e){return e.articles})),c=Object(d.c)((function(e){return e.notification})),n=Object(a.useState)(!1),s=Object(i.a)(n,2),o=s[0],l=s[1],u=Object(a.useState)(!1),j=Object(i.a)(u,2),O=j[0],m=j[1],h=Object(a.useState)("none"),p=Object(i.a)(h,2),x=p[0],f=p[1],v=Object(a.useState)(null),y=Object(i.a)(v,2),g=y[0],S=y[1],k=Object(a.useState)(!0),N=Object(i.a)(k,2),E=N[0],F=N[1],C=Object(a.useReducer)((function(e,t){return Object(b.a)(Object(b.a)({},e),t)}),{value:"",memory:""}),A=Object(i.a)(C,2),T=A[0],q=A[1],B=r.adminArticles,D=function(){return l(!1)},L=function(){var e;t((e=g,function(){var t=Object(P.a)(_.a.mark((function t(r){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.delete("/api/articles/admin/".concat(e),he());case 3:r({type:U}),r(ae("Article deleted successfully")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(ae(t.t0.response.data.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},I=function(e,r){t(function(e,t){return function(){var r=Object(P.a)(_.a.mark((function r(a,c){var n,s,i,o;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ue.a.patch("/api/articles/admin/".concat(t),{status:e},he());case 3:n=r.sent,s=n.data,i=c().articles.adminArticles.docs,o=i.findIndex((function(e){return e._id===t})),i[o]=s,a({type:R,payload:i}),a(ae("Successfully updated status")),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),a(re("Error updating status"));case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e,t){return r.apply(this,arguments)}}()}("draft"===e?"public":"draft",r))};return Object(a.useEffect)((function(){F(!1)}),[r]),Object(a.useEffect)((function(){F(!0),t(fe(1,5,T.memory.trim()))}),[t,T.memory,5]),Object(a.useEffect)((function(){D(),c&&c.removeArticle&&t(fe(B.page,5,T.memory.trim()))}),[t,c,B,5,T.memory]),Object(a.useEffect)((function(){t(fe())}),[t]),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(Ze,{section:"Articles",children:Object(w.jsxs)("div",{className:"articles_table",children:[Object(w.jsxs)(xt.a,{className:"mb-3",children:[Object(w.jsx)(ft.a,{className:"mr-2",children:Object(w.jsx)(St.LinkContainer,{to:"/dashboard/articles/add",children:Object(w.jsx)(vt.a,{variant:"info",children:"Add Article"})})}),Object(w.jsx)("form",{onSubmit:function(e){e.preventDefault(),""!==T.value&&(f("block"),q({memory:T.value}))},children:Object(w.jsxs)(yt.a,{children:[Object(w.jsx)(yt.a.Prepend,{children:Object(w.jsx)(yt.a.Text,{id:"btnGroupAddon2",children:"Search"})}),Object(w.jsx)(gt.a,{type:"text",placeholder:"Example",value:T.value,onChange:function(e){return q({value:e.target.value})}})]})}),O?Object(w.jsx)(Ke.a,{className:"ml-2 mt-1",size:"30px",color:"secondary"}):Object(w.jsx)(pt.a,{display:x,children:Object(w.jsx)(ht.a,{className:"ml-2 mt-1",style:{cursor:"pointer",fontSize:"30px"},color:"secondary",onClick:function(){m(!0),q({value:"",memory:""}),t(fe()),setTimeout((function(){f("none"),m(!1)}),500)}})})]}),E?Object(w.jsx)(Qe,{}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{children:""!==T.memory?Object(w.jsxs)("p",{children:["Your search for ",Object(w.jsxs)("b",{children:['"',T.memory.trim(),'"']})," had"," ",Object(w.jsx)("b",{children:r.adminArticles.totalDocs})," ",r.adminArticles.totalDocs>1?"results.":"result."]}):null}),Object(w.jsx)(Ot,{arts:B,prev:function(e){return function(e){t(fe(e,5,T.memory.trim()))}(e)},next:function(e){return function(e){t(fe(e,5,T.memory.trim()))}(e)},handleShow:function(e){return function(){S(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),l(!0)}(e)},handleStatusChange:function(e,t){return I(e,t)},editArtsAction:function(t){return function(t){e.history.push("/dashboard/articles/edit/".concat(t))}(t)}})]}),Object(w.jsxs)(et.a,{show:o,onHide:D,children:[Object(w.jsx)(et.a.Header,{closeButton:!0,children:Object(w.jsx)(et.a.Title,{children:"Are you really sure?"})}),Object(w.jsx)(et.a.Body,{children:"This action cannot be undone"}),Object(w.jsxs)(et.a.Footer,{children:[Object(w.jsx)(vt.a,{variant:"secondary",onClick:D,children:"Close this"}),Object(w.jsx)(vt.a,{variant:"danger",onClick:function(){return L()},children:"Delete"})]})]})]})})})};function kt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(r){var c=Object(a.useState)(!1),n=Object(i.a)(c,2),s=n[0],o=n[1],l=Object(d.c)((function(e){return e.users}));return Object(a.useEffect)((function(){l.auth?t&&"user"===l.data.role?r.history.push("/dashboard"):o(!0):r.history.push("/")}),[r,l]),s?Object(w.jsx)(e,Object(b.a)({},r)):Object(w.jsx)("div",{className:"main_loader",children:"Loading..."})};return r}var Nt=r(577),Et=r(592),_t=r(593),Ft=r(273),Pt=r.n(Ft),Ct=r(271),At=r.n(Ct),Tt=r(272),qt=r.n(Tt),Rt=r(270),Bt=r.n(Rt),Dt=function(e){var t=e.current;return console.log(t),Object(w.jsxs)(ke.a,{className:"scorecard",children:[Object(w.jsxs)(Ne.a,{children:[Object(w.jsx)(Nt.a,{className:"mt-2",children:Object(w.jsx)(Et.a,{className:"mt-2",children:Object(w.jsx)(Bt.a,{})})}),Object(w.jsx)(_e.a,{primary:"Our Score",secondary:t.score,className:"rating"})]}),Object(w.jsx)(we.a,{variant:"inset",component:"li"}),t.category&&t.category.name?Object(w.jsxs)("div",{children:[Object(w.jsxs)(Ne.a,{children:[Object(w.jsx)(Nt.a,{children:Object(w.jsx)(Et.a,{children:Object(w.jsx)(At.a,{})})}),Object(w.jsx)(_e.a,{primary:"Category",secondary:t.category.name,className:"category"})]}),Object(w.jsx)(we.a,{variant:"inset",component:"li"})]}):null,Object(w.jsxs)(Ne.a,{children:[Object(w.jsx)(Nt.a,{children:Object(w.jsx)(Et.a,{children:Object(w.jsx)(qt.a,{})})}),Object(w.jsx)("div",{children:t.actors.map((function(e,t){return Object(w.jsx)(_t.a,{item:e,label:e,clickable:!0,color:"primary",className:"chip"},"".concat(t+e))}))})]}),Object(w.jsx)(we.a,{variant:"inset",component:"li"}),Object(w.jsxs)(Ne.a,{children:[Object(w.jsx)(Nt.a,{children:Object(w.jsx)(Et.a,{children:Object(w.jsx)(Pt.a,{})})}),Object(w.jsx)(_e.a,{primary:"Director",secondary:t.director,className:"director"})]})]})},Lt=function(e){var t=Object(d.c)((function(e){return e.articles})).current,r=Object(d.b)();return Object(a.useEffect)((function(){var t;r((t=e.match.params.id,function(){var e=Object(P.a)(_.a.mark((function e(r){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get("/api/articles/get_byid/".concat(t));case 3:a=e.sent,r(Z(a.data[0])),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(re(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[r,e.match.params]),Object(a.useEffect)((function(){return function(){r($())}}),[r]),Object(w.jsx)(w.Fragment,{children:t?Object(w.jsxs)("div",{className:"article_container",children:[Object(w.jsx)("div",{style:{background:"url(https://picsum.photos/1920/1080)"},className:"image"}),Object(w.jsx)("h1",{children:t.title}),Object(w.jsx)("div",{className:"mt-3 content",children:Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:t.content}})}),Object(w.jsx)(Dt,{current:t})]}):Object(w.jsx)(Qe,{})})},It={title:"",content:"",excerpt:"",score:"",director:"",actors:[],status:"draft",category:""},zt=function(){return ze.c({title:ze.d().required("Sorry, the title is required").max(30,"Sorry, the character limit exceeded"),content:ze.d().required("Sorry, the content is required").min(50,"That's it...? Write some more"),excerpt:ze.d().required("Sorry, the excerpt is required").max(231,"Sorry, the character limit exceeded"),score:ze.b().required("Sorry, the score is required").min(0,"Sorry, 0 is the minimum").max(100,"Sorry, 100 is the maximum"),director:ze.d().required("Please enter the director"),actors:ze.a().required("Please enter the actors").min(2,"Minimum 2 actors required"),status:ze.d().required("Sorry, the status is required"),category:ze.d().required("Sorry, the category is required")})},Mt=r(67),Vt=r(278),Ut=r(274),Ht=(r(517),r(275)),Wt=r.n(Ht),Gt=function(e){var t=Object(a.useState)({editorState:Mt.EditorState.createEmpty()}),r=Object(i.a)(t,2),c=r[0],n=r[1];return Object(a.useEffect)((function(){if(e.editContent){var t=Wt()(e.editContent),r=t.contentBlocks,a=t.entityMap,c=Mt.ContentState.createFromBlockArray(r,a);n({editorState:Mt.EditorState.createWithContent(c)})}}),[e.editContent]),Object(w.jsx)("div",{children:Object(w.jsx)(Ut.Editor,{editorState:c.editorState,onEditorStateChange:function(t){var r=Object(Vt.a)(t.getCurrentContent());n({editorState:t}),e.setEditorState(r)},wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onBlur:e.setEditorBlur})})},Jt=r(565),Xt=r(522),Yt=r(281),Kt=r(563),Qt=r(583),Zt=r(578),$t=r(146),er=r.n($t),tr=function(e){var t=Object(a.useState)(!1),r=Object(i.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],j=Object(a.useRef)(""),O=Object(d.b)(),h=Object(d.c)((function(e){return e.articles})).categories,p=Object(d.c)((function(e){return e.notification})),x=Object(Ie.c)({enableReinitialize:!0,initialValues:It,validationSchema:zt,onSubmit:function(e,t){var r;t.resetForm;u(!0),O((r=e,function(){var e=Object(P.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.post("/api/articles/admin/add_articles",r,he());case 3:a=e.sent,t(K(a.data)),t(ae("Article added!")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(re(e.t0.response.data.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}}),f=function(e){n(!0)},v=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}};return Object(a.useEffect)((function(){p&&p.success&&e.history.push("/dashboard/articles"),p&&p.error&&u(!1)}),[p,e.history]),Object(a.useEffect)((function(){O(ve())}),[O]),Object(w.jsx)(Ze,{section:"Add article",children:l?Object(w.jsx)(Qe,{}):Object(w.jsxs)("form",{className:"mt-3 article_form",onSubmit:x.handleSubmit,children:[Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"title",label:"Enter a title",variant:"outlined"},x.getFieldProps("title")),v(x,"title")))}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)(Object(b.a)({style:{width:"100%"},name:"excerpt",label:"Enter an excerpt",variant:"outlined"},x.getFieldProps("excerpt")),v(x,"excerpt")),{},{multiline:!0,rows:4}))}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)(Gt,{setEditorState:function(e){return function(e){x.setFieldValue("content",e,!0)}(e)},setEditorBlur:function(e){return f()}}),x.errors.content&&c?Object(w.jsx)(Jt.a,{error:!0,children:x.errors.content}):null,Object(w.jsx)(Me.a,Object(b.a)({type:"hidden",name:"content"},x.getFieldProps("content")))]}),Object(w.jsx)(we.a,{className:"mt-3 mb-3"}),Object(w.jsx)("h5",{children:"Movie data and score"}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"score",label:"Enter the score",variant:"outlined"},x.getFieldProps("score")),v(x,"score")))}),Object(w.jsxs)(Ie.b,{value:x,children:[Object(w.jsx)("h5",{children:"Add the actors:"}),Object(w.jsx)(Ie.a,{name:"actors",render:function(e){return Object(w.jsxs)("div",{children:[Object(w.jsxs)(Xt.a,{className:"actors_form",children:[Object(w.jsx)(Yt.a,{inputRef:j,className:"input",placeholder:"Add actor name here"}),Object(w.jsx)(y.a,{onClick:function(){e.push(j.current.value),j.current.value=""},children:Object(w.jsx)(er.a,{})})]}),x.errors.actors&&x.touched.actors?Object(w.jsx)(Jt.a,{error:!0,children:x.errors.actors}):null,Object(w.jsx)("div",{className:"chip_container",children:x.values.actors.map((function(t,r){return Object(w.jsx)("div",{children:Object(w.jsx)(_t.a,{label:"".concat(t),color:"primary",onDelete:function(){e.remove(r)}})},t)}))})]})}})]}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"director",label:"Enter the director",variant:"outlined"},x.getFieldProps("director")),v(x,"director")))}),Object(w.jsxs)(Kt.a,{variant:"outlined",children:[Object(w.jsx)("h5",{children:"Select a category"}),Object(w.jsxs)(Qt.a,Object(b.a)(Object(b.a)({name:"category"},x.getFieldProps("category")),{},{error:!(!x.errors.category||!x.touched.category),children:[Object(w.jsx)(Zt.a,{value:"",children:Object(w.jsx)("em",{children:"None"})}),h?h.map((function(e){return Object(w.jsx)(Zt.a,{value:e._id,children:e.name},e._id)})):null]})),x.errors.category&&x.touched.category?Object(w.jsx)(Jt.a,{error:!0,children:x.errors.category}):null]}),Object(w.jsx)(we.a,{className:"mt-3 mb-3"}),Object(w.jsxs)(Kt.a,{variant:"outlined",children:[Object(w.jsx)("h5",{children:"Select a status"}),Object(w.jsxs)(Qt.a,Object(b.a)(Object(b.a)({name:"status"},x.getFieldProps("status")),{},{error:!(!x.errors.status||!x.touched.status),children:[Object(w.jsx)(Zt.a,{value:"",children:Object(w.jsx)("em",{children:"None"})}),Object(w.jsx)(Zt.a,{value:"draft",children:"Draft"}),Object(w.jsx)(Zt.a,{value:"public",children:"Public"})]})),x.errors.status&&x.touched.status?Object(w.jsx)(Jt.a,{error:!0,children:x.errors.status}):null]}),Object(w.jsx)(we.a,{className:"mt-3 mb-3"}),Object(w.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",disabled:!1,children:"Add Article"})]})})},rr=function(e){var t=Object(a.useState)(!1),r=Object(i.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],j=Object(a.useState)(It),O=Object(i.a)(j,2),h=O[0],p=O[1],x=Object(a.useRef)(""),f=Object(a.useState)(null),v=Object(i.a)(f,2),g=v[0],S=v[1],k=Object(d.b)(),N=Object(d.c)((function(e){return e.articles})),E=Object(d.c)((function(e){return e.notification})),F=Object(Ie.c)({enableReinitialize:!0,initialValues:h,validationSchema:zt,onSubmit:function(t,r){var a,c;r.resetForm;u(!0),k((a=t,c=e.match.params.id,function(){var e=Object(P.a)(_.a.mark((function e(t){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.patch("/api/articles/admin/".concat(c),a,he());case 3:r=e.sent,t(Z(r.data)),t(ae("Article successfully updated!")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(re("Error updating article. Try again!"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}}),C=function(e){n(!0)},A=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}};return Object(a.useEffect)((function(){u(!1)}),[E,e.history]),Object(a.useEffect)((function(){var t;k(ve()),k((t=e.match.params.id,function(){var e=Object(P.a)(_.a.mark((function e(r){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get("/api/articles/admin/".concat(t),he());case 3:a=e.sent,r(Z(a.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(re(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[k,e.match.params]),Object(a.useEffect)((function(){N&&N.current&&(p(N.current),S(N.current.content))}),[N]),Object(a.useEffect)((function(){return function(){k($)}}),[k]),Object(w.jsx)(Ze,{section:"Add article",children:l?Object(w.jsx)(Qe,{}):Object(w.jsxs)("form",{className:"mt-3 article_form",onSubmit:F.handleSubmit,children:[Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"title",label:"Enter a title",variant:"outlined"},F.getFieldProps("title")),A(F,"title")))}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)(Object(b.a)({style:{width:"100%"},name:"excerpt",label:"Enter an excerpt",variant:"outlined"},F.getFieldProps("excerpt")),A(F,"excerpt")),{},{multiline:!0,rows:4}))}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)(Gt,{setEditorState:function(e){return function(e){F.setFieldValue("content",e,!0)}(e)},setEditorBlur:function(e){return C()},editContent:g}),F.errors.content&&c?Object(w.jsx)(Jt.a,{error:!0,children:F.errors.content}):null,Object(w.jsx)(Me.a,Object(b.a)({type:"hidden",name:"content"},F.getFieldProps("content")))]}),Object(w.jsx)(we.a,{className:"mt-3 mb-3"}),Object(w.jsx)("h5",{children:"Movie data and score"}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"score",label:"Enter the score",variant:"outlined"},F.getFieldProps("score")),A(F,"score")))}),Object(w.jsxs)(Ie.b,{value:F,children:[Object(w.jsx)("h5",{children:"Add the actors:"}),Object(w.jsx)(Ie.a,{name:"actors",render:function(e){return Object(w.jsxs)("div",{children:[Object(w.jsxs)(Xt.a,{className:"actors_form",children:[Object(w.jsx)(Yt.a,{inputRef:x,className:"input",placeholder:"Add actor name here"}),Object(w.jsx)(y.a,{onClick:function(){e.push(x.current.value),x.current.value=""},children:Object(w.jsx)(er.a,{})})]}),F.errors.actors&&F.touched.actors?Object(w.jsx)(Jt.a,{error:!0,children:F.errors.actors}):null,Object(w.jsx)("div",{className:"chip_container",children:F.values.actors.map((function(t,r){return Object(w.jsx)("div",{children:Object(w.jsx)(_t.a,{label:"".concat(t),color:"primary",onDelete:function(){e.remove(r)}})},t)}))})]})}})]}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"director",label:"Enter the director",variant:"outlined"},F.getFieldProps("director")),A(F,"director")))}),Object(w.jsxs)(Kt.a,{variant:"outlined",children:[Object(w.jsx)("h5",{children:"Select a category"}),Object(w.jsxs)(Qt.a,Object(b.a)(Object(b.a)({name:"category"},F.getFieldProps("category")),{},{error:!(!F.errors.category||!F.touched.category),children:[Object(w.jsx)(Zt.a,{value:"",children:Object(w.jsx)("em",{children:"None"})}),N.categories?N.categories.map((function(e){return Object(w.jsx)(Zt.a,{value:e._id,children:e.name},e._id)})):null]})),F.errors.category&&F.touched.category?Object(w.jsx)(Jt.a,{error:!0,children:F.errors.category}):null]}),Object(w.jsx)(we.a,{className:"mt-3 mb-3"}),Object(w.jsxs)(Kt.a,{variant:"outlined",children:[Object(w.jsx)("h5",{children:"Select a status"}),Object(w.jsxs)(Qt.a,Object(b.a)(Object(b.a)({name:"status"},F.getFieldProps("status")),{},{error:!(!F.errors.status||!F.touched.status),children:[Object(w.jsx)(Zt.a,{value:"",children:"None"}),Object(w.jsx)(Zt.a,{value:"draft",children:"Draft"}),Object(w.jsx)(Zt.a,{value:"public",children:"Public"})]})),F.errors.status&&F.touched.status?Object(w.jsx)(Jt.a,{error:!0,children:F.errors.status}):null]}),Object(w.jsx)(we.a,{className:"mt-3 mb-3"}),Object(w.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",disabled:!1,children:"Edit Article"})]})})},ar=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),r=t[0],c=t[1],n=Object(d.c)((function(e){return e.notification})),s=Object(d.b)(),o=Object(Ie.c)({enableReinitialize:!0,initialValues:{email:"",firstname:"",lastname:"",message:""},validationSchema:ze.c({email:ze.d().required("Sorry, email is required").email("This is not a valid email"),firstname:ze.d().required("Sorry, firstname is required").max(25,"Sorry, the character limit is 25"),lastname:ze.d().required("Sorry, lastname is required").max(25,"Sorry, the character limit is 25"),message:ze.d().required("Sorry, the message cannot be empty").max(500,"Sorry, the message is too long")}),onSubmit:function(e){var t;c(!0),s((t=e,function(){var e=Object(P.a)(_.a.mark((function e(r){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.post("/api/users/contact",t);case 3:r(ae("Message sent successfully!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(re(e.t0.response.data.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()))}});Object(a.useEffect)((function(){n&&n.success&&(o.resetForm(),c(!1))}),[n,o]);var l=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}};return Object(w.jsx)(w.Fragment,{children:r?Object(w.jsx)(Qe,{}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"Contact me"}),Object(w.jsxs)("form",{className:"mt-3",onSubmit:o.handleSubmit,children:[Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"email",label:"Enter your email",variant:"outlined"},o.getFieldProps("email")),l(o,"email")))}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"firstname",label:"Enter your firstname",variant:"outlined"},o.getFieldProps("firstname")),l(o,"firstname")))}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"lastname",label:"Enter your lastname",variant:"outlined"},o.getFieldProps("lastname")),l(o,"lastname")))}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"message",label:"Add your message here",variant:"outlined",multiline:!0,rows:4,message:!0},o.getFieldProps("message")),l(o,"message")))}),Object(w.jsxs)(m.a,{variant:"contained",color:"primary",type:"submit",children:[" ","Send me a message"]})]})]})})},cr=r(147),nr=r.n(cr),sr={fontSize:"200px"},ir=function(e){var t=Object(a.useState)(null),r=Object(i.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(!0),o=Object(i.a)(s,2),l=o[0],u=o[1],j=Object(a.useState)(!1),b=Object(i.a)(j,2),O=b[0],m=b[1],h=Object(d.c)((function(e){return e.notification})),p=Object(d.b)(),x=new URLSearchParams(e.location.search).get("t");return Object(a.useEffect)((function(){x?p(function(e){return function(){var t=Object(P.a)(_.a.mark((function t(r,a){var c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=a().users.auth,t.next=4,ue.a.get("/api/users/verify?verification=".concat(e));case 4:c&&r({type:X}),r(ae("Account verified successfully!")),r(se()),r(ae("Please login to continue!")),r(ae("Please login to continue!")),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r(re(t.t0.response.data.message));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(x)):e.history.push("/")}),[p,e.history,x]),Object(a.useEffect)((function(){h&&h.error&&(n(Object(w.jsx)(nr.a,{style:sr})),u(!1),m(!0)),h&&h.success&&(n(Object(w.jsx)(S.a,{style:sr})),u(!1),m(!0))}),[h]),Object(a.useEffect)((function(){O&&setTimeout((function(){return e.history.push("/")}),2e3)}),[O,e.history]),Object(w.jsx)(w.Fragment,{children:l?Object(w.jsx)(Qe,{}):Object(w.jsx)("div",{style:{textAlign:"center"},children:c})})},or=r(579),lr=r(580),ur=function(){var e=Object(d.b)(),t=Object(Ie.c)({enableReinitialize:!0,initialValues:{name:""},validationSchema:ze.c({name:ze.d().required("Name of the caregory is required").max(100,"The max character limit is 100")}),onSubmit:function(t,r){var a=r.resetForm;e(function(e){return function(){var t=Object(P.a)(_.a.mark((function t(r,a){var c,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.post("/api/articles/categories",e,he());case 3:c=t.sent,n=[].concat(Object(F.a)(a().articles.categories),[c.data]),r({type:L,payload:n}),r(ae("Category added successfully!")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(re("Error adding categories. Try again!"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(t)),a()}});return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("form",{onSubmit:t.handleSubmit,children:Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)(Me.a,Object(b.a)(Object(b.a)({style:{width:"100%"},name:"name",label:"Enter a category name",variant:"outlined"},t.getFieldProps("name")),function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}}(t,"name"))),Object(w.jsx)(m.a,{className:"mt-2",type:"submit",variant:"contained",color:"primary",children:"Add Category"})]})})})},jr=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.articles}));return Object(a.useEffect)((function(){e(ve())}),[e]),Object(w.jsx)(Ze,{section:"Categories",children:Object(w.jsxs)(or.a,{children:[Object(w.jsx)(lr.a,{children:Object(w.jsxs)(ut.a,{striped:!0,bordered:!0,hover:!0,children:[Object(w.jsx)("thead",{children:Object(w.jsx)("tr",{children:Object(w.jsx)("th",{children:"Name"})})}),Object(w.jsx)("tbody",{children:t.categories?t.categories.map((function(e,t){return Object(w.jsx)("tr",{children:Object(w.jsx)("td",{children:e.name})},e._id)})):null})]})}),Object(w.jsx)(lr.a,{children:Object(w.jsx)(ur,{})})]})})},dr=function(e){var t=Object(d.c)((function(e){return e.articles})),r=new URLSearchParams(e.location.search).get("keywords");return console.log(t.navSearch),Object(w.jsx)(w.Fragment,{children:t.navSearch&&t.navSearch.docs?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("p",{className:"mb-4",children:[Object(w.jsx)("u",{children:"Search results for"}),': "',Object(w.jsx)("b",{children:r}),'" returned'," ",Object(w.jsx)("b",{children:t.navSearch.totalDocs})," Results"]}),Object(w.jsx)(O.a,{container:!0,spacing:2,className:"article_card",children:t.navSearch.docs.map((function(e){return Object(w.jsx)(O.a,{item:!0,xs:12,sm:6,lg:3,children:Object(w.jsx)(k,{article:e})},e._id)}))}),Object(w.jsx)("div",{className:"mt-3",style:{textAlign:"center"},children:0===t.navSearch.totalDocs?Object(w.jsx)(nr.a,{style:{fontSize:"200px"}}):null})]}):Object(w.jsx)(Qe,{})})},br=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),r=t[0],c=t[1],n=Object(d.b)(),s=Object(d.c)((function(e){return e.users}));return Object(a.useEffect)((function(){n(function(){var e=Object(P.a)(_.a.mark((function e(t){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,me()){e.next=3;break}throw new Error;case 3:return e.next=5,ue()("/api/users/isauth",he());case 5:r=e.sent,t(ne({data:r.data,auth:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(ne({data:{},auth:!1}));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(a.useEffect)((function(){null!=s.auth&&c(!1)}),[s]),Object(w.jsxs)(o.BrowserRouter,{children:[Object(w.jsx)(We,{}),r?Object(w.jsx)(Qe,{}):Object(w.jsx)(Je,{children:Object(w.jsxs)(l.g,{children:[Object(w.jsx)(l.d,{path:"/dashboard/articles/edit/:id",component:kt(rr,!0)}),Object(w.jsx)(l.d,{path:"/dashboard/articles/add",component:kt(tr,!0)}),Object(w.jsx)(l.d,{path:"/dashboard/articles",component:kt(wt,!0)}),Object(w.jsx)(l.d,{path:"/dashboard/categories",component:kt(jr)}),Object(w.jsx)(l.d,{path:"/dashboard/profile",component:kt(lt)}),Object(w.jsx)(l.d,{path:"/dashboard",component:kt($e)}),Object(w.jsx)(l.d,{path:"/contact",component:ar}),Object(w.jsx)(l.d,{path:"/verification",component:ir}),Object(w.jsx)(l.d,{path:"/searchresults",component:dr}),Object(w.jsx)(l.d,{path:"/article/:id",component:Lt}),Object(w.jsx)(l.d,{path:"/auth",component:Ye}),Object(w.jsx)(l.d,{path:"/",component:ge})]})}),Object(w.jsx)(j.a,{fonts:[{font:"Roboto",weights:[300,400,900]},{font:"Fredoka One"}]})]})},Or=(r(518),r(519),r(79)),mr=r(276);var hr={data:{_id:null,email:null,firstname:null,lastname:null,age:null,role:null,verified:null},auth:null};var pr=Object(Or.c)({articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(b.a)(Object(b.a)({},e),{},{articles:t.payload});case A:return Object(b.a)(Object(b.a)({},e),{},{current:t.payload});case q:return Object(b.a)(Object(b.a)({},e),{},{lastAdded:t.payload,success:!0});case B:return Object(b.a)(Object(b.a)({},e),{},{adminArticles:t.payload});case R:return Object(b.a)(Object(b.a)({},e),{},{adminArticles:Object(b.a)(Object(b.a)({},e.adminArticles),{},{docs:t.payload})});case T:return Object(b.a)(Object(b.a)({},e),{},{current:""});case D:case L:return Object(b.a)(Object(b.a)({},e),{},{categories:t.payload});case I:return Object(b.a)(Object(b.a)({},e),{},{navSearch:t.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(b.a)(Object(b.a)({},e),{},{data:Object(b.a)(Object(b.a)({},e.data),t.payload.data),auth:t.payload.auth});case W:return Object(b.a)(Object(b.a)({},e),{},{data:Object(b.a)({},hr.data),auth:!1});case G:return Object(b.a)(Object(b.a)({},e),{},{data:Object(b.a)(Object(b.a)({},e.data),{},{email:t.payload})});case J:return Object(b.a)(Object(b.a)({},e),{},{data:Object(b.a)({},t.payload)});case X:return Object(b.a)(Object(b.a)({},e),{},{data:Object(b.a)(Object(b.a)({},e.data),{},{verified:!0})});default:return e}},site:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(b.a)(Object(b.a)({},e),{},{layout:t.payload});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(b.a)(Object(b.a)({},e),{},{error:!0,msg:t.payload});case M:return Object(b.a)(Object(b.a)({},e),{},{success:!0,msg:t.payload});case V:return{};case U:return Object(b.a)(Object(b.a)({},e),{},{removeArticle:!0});default:return e}}}),xr=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Or.d;return Object(Or.e)(pr,e(Object(Or.a)(mr.a)))};s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(d.a,{store:xr(),children:Object(w.jsx)(br,{})})}),document.getElementById("root"))}},[[520,1,2]]]);
//# sourceMappingURL=main.b7025b72.chunk.js.map